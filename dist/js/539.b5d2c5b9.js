"use strict";(self["webpackChunkvue_library"]=self["webpackChunkvue_library"]||[]).push([[539],{5539:function(t,e,r){r.r(e),r.d(e,{default:function(){return u}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login maxWH flex-center"},[e("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,"label-color":"#fff","label-width":"80px",rules:t.rules,"hide-required-asterisk":""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login("loginForm")}}},[e("el-form-item",{staticClass:"login-item",attrs:{prop:"account"}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-user"}),t._v("账号")]),e("el-input",{attrs:{autocomplete:"off",placeholder:"请输入账号"},model:{value:t.loginForm.account,callback:function(e){t.$set(t.loginForm,"account","string"===typeof e?e.trim():e)},expression:"loginForm.account"}})],1),e("el-form-item",{staticClass:"login-item",attrs:{prop:"password"}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-unlock"}),t._v("密码")]),e("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password","string"===typeof e?e.trim():e)},expression:"loginForm.password"}})],1),e("el-form-item",{staticStyle:{"box-sizing":"border-box","padding-right":"80px"},attrs:{align:"center"}},[e("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.login("loginForm")}}},[t._v("登录")])],1)],1)],1)},s=[],i=(r(7658),r(5818)),l={name:"Login",data(){const t=(t,e,r)=>{e.trim().length<=0?r(new Error("请输入账号")):r()},e=(t,e,r)=>{const o=/^[a-zA-Z0-9_]{8,12}$/;e.trim().length<=0?r(new Error("请输入密码")):o.test(e.trim())?r():r(new Error("密码格式错误"))};return{rules:{account:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:e}]},loginForm:{account:(0,i.D0)()||"",password:""}}},methods:{resetForm(t){this.$refs[t].resetFields()},async login(t){try{await new Promise(((e,r)=>{this.$refs[t].validate((t=>{t?e(t):r(new Error("表单验证失败"))}))})),await this.$store.dispatch("userLogin",this.loginForm);this.resetForm(t),this.$router.push("/")}catch(e){this.$message({type:"warning",message:e.message})}}}},a=l,n=r(1001),c=(0,n.Z)(a,o,s,!1,null,"25381212",null),u=c.exports}}]);
//# sourceMappingURL=539.b5d2c5b9.js.map