"use strict";(self["webpackChunkvue_library"]=self["webpackChunkvue_library"]||[]).push([[480],{480:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"reserve-info maxWH"},[e._m(0),t("main",{staticClass:"main"},[t("el-row",{directives:[{name:"show",rawName:"v-show",value:Object.keys(e.front_reserve_info).length>0,expression:"(Object.keys(front_reserve_info).length > 0)"}],staticClass:"reserve-detail"},[t("el-col",{staticClass:"reserve-detail-item"},[e._v(e._s(e.reserveInfo.title))]),t("br"),t("el-divider"),t("el-col",{staticClass:"reserve-detail-item"},[e._v(e._s(e.reserveInfo.floor))]),t("el-col",{staticClass:"reserve-detail-item"},[e._v(e._s(e.reserveInfo.seat_no))]),t("el-col",{staticClass:"reserve-detail-item"},[e._v(e._s(e.reserveInfo.leave_tiem))]),t("div",{staticClass:"leave-seat flex-center"},[t("el-button",{attrs:{type:"info"},nativeOn:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.leaveSeat.apply(null,arguments)}}},[e._v("离开座位")])],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:Object.keys(e.front_reserve_info).length<1,expression:"(Object.keys(front_reserve_info).length < 1)"}],staticClass:"no-more maxWH"},[t("p",{staticClass:"info flex-center"},[e._v("你现在还没有已经建立的实验")]),t("div",{staticClass:"btn"},[t("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.goReserveSeat.apply(null,arguments)}}},[e._v("新建实验")])],1)])],1)])},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"header flex"},[t("span",{staticClass:"title"}),t("p",{staticClass:"info flex"})])}],i=(s(7658),s(3822)),a={name:"ReserveInfo",data(){return{reserveInfo:{title:"",floor:"",seat_no:"",leave_tiem:""}}},computed:{...(0,i.Se)(["front_reserve_info","userinfo"])},mounted(){this.setReserveInfo(),this.getUserInfo()},methods:{getFrontPath(e){let t=this.$route.path;return t.includes("front")?e:"front/"+e},goPath(e){this.$router.push(this.getFrontPath(e))},goReserveSeat(){this.$bus.$emit("switchCheckNav","1-1"),this.goPath("reserveseat")},setReserveInfo(){Object.keys(this.front_reserve_info).length>0&&(this.reserveInfo={title:`${this.userinfo.username}同学, 你于 ${this.front_reserve_info.begin_time.substring(11,19)} 预约了座位`,floor:`座位楼层: ${this.front_reserve_info.seat_floor}`,seat_no:`座位编号: ${this.front_reserve_info.seat_no}`,leave_tiem:`离座时间: ${this.front_reserve_info.end_time.substring(11,19)}`})},async getUserInfo(){try{await this.$store.dispatch("getUserInfo",{user_id:this.userinfo.user_id})}catch(e){console.warn(e.message)}},async leaveSeat(){Object.keys(this.front_reserve_info).length>0&&await this.$confirm("确定离开座位?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{try{await this.$store.dispatch("frontLeaveSeat",{user_id:this.userinfo.user_id,seat_id:this.front_reserve_info.seat_id}).then((async e=>{this.$notify({title:"成功",type:"success",message:e}),await this.getUserInfo()}))}catch(e){console.warn(e.message)}})).catch((()=>{}))}}},o=a,l=s(1001),f=(0,l.Z)(o,r,n,!1,null,"799c9029",null),c=f.exports}}]);
//# sourceMappingURL=480.a701a433.js.map