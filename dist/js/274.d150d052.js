"use strict";(self["webpackChunkvue_library"]=self["webpackChunkvue_library"]||[]).push([[274],{4274:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"feedback maxWH"},[e._m(0),t("main",{staticClass:"main"},[e._m(1),t("el-form",{ref:"feedbackFrom",staticClass:"from",attrs:{model:e.feedbackFrom,"label-width":"80px","label-position":"top","hide-required-asterisk":""}},[t("el-form-item",{attrs:{label:"问题反馈",prop:"info"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.feedbackFrom.info,callback:function(t){e.$set(e.feedbackFrom,"info",t)},expression:"feedbackFrom.info"}})],1),t("el-form-item",{attrs:{align:"center"}},[t("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handlerSubmit.apply(null,arguments)}}},[e._v("提交")]),t("el-button",{nativeOn:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.resetForm("feedbackFrom")}}},[e._v("重置")])],1)],1)],1)])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"header flex"},[t("span",{staticClass:"title"},[e._v("问题反馈")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"intro"},[t("p",{staticClass:"flex-center"},[e._v("在使用本系统中遇到了什么问题, 或者对于本系统有什么建议,")]),t("p",{staticClass:"flex-center"},[e._v("又或者有什么想对开发者说的话, 等等, 都可以在这里提出来")])])}],n=s(3822),i={name:"Feedback",data(){return{feedbackFrom:{info:""}}},computed:{...(0,n.Se)(["userinfo"])},methods:{async getUserInfo(){try{await this.$store.dispatch("getUserInfo",{user_id:this.userinfo.user_id})}catch(e){console.warn(e.message)}},resetForm(e){this.$refs[e].resetFields()},async handlerSubmit(){const e=this.feedbackFrom.info,t=/^[\s\S]{5,100}$/;if(!(e.trim().length<1))return e.trim().length>0&&!t.test(e)?this.$message({type:"warning",message:"请将反馈内容控制在5到100给个字符之间"}):void await this.$confirm("确认提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{try{const t={account:this.userinfo.account,username:this.userinfo.username,feedback_info:e};await this.$store.dispatch("sendFeedback",JSON.stringify(t)).then((e=>{this.$notify({title:"提交成功",type:"success",message:e}),this.resetForm("feedbackFrom")})).catch((e=>this.$message({type:"warning",message:e.message})))}catch(t){console.warn(t.message)}})).catch((()=>{}))}}},c=i,o=s(1001),l=(0,o.Z)(c,a,r,!1,null,"39b5ccd2",null),f=l.exports}}]);
//# sourceMappingURL=274.d150d052.js.map